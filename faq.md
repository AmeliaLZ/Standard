
### 在 IE6 下使用简写的 charset 声明，如果离 head 标签过远，可能不会生效。建议其必须为 head 标签的第一个直接子元素。

接受。


### “引入外链资源时，省略协议前缀”的描述不完整，应为资源与页面协议相同时才可省略。并且应解释 IE 老版本下可能导致的重复请求问题。

接受。


### 建议引入 CSS 时强制声明rel，否则浏览器不会当成 CSS 解析。

接受。


### 永远在最上的 z-index 指定为 2147483647，两个永远在最上的元素的东西凑到一个页面了怎么办？应该留有余地。

经过讨论和投票，对于可控环境下，希望在页面中显示在最上层的元素，z-index 建议取值 999999。第三方环境下，希望在页面中显示在最上层的元素，使用 内联 ＋ !important 的方法将z-index 指定为 2147483647。

接受。


### CSS 的优先级上，新增：除非必要，尽量不使用 !important。

接受。


### CSS 属性的书写顺序应该有一些建议，以形成良好的编码习惯。

接受，并进行详细的解释和分类细化。


### 单行声明的数组与对象，如果包含元素，{} 和 [] 内紧贴括号部分建议把空格去掉，以保持和其他规则的统一性，并符合常用 Formatter 的习惯。

接受。


### 重写父类方法时， 应当添加 @override 标识。

接受。



### 文件头注释不应该写 author，文件的修改跟踪与维护应该通过 svn/git 版本控制系统。

经过讨论，原为文件头必须强制声明author。修改后为不强制写 author。业务项目建议不写 author；公共项目特别是开源的项目，建议写 author。author应按照维护责任排序。

部分接受。



### 建议加入对后端返回的 JSON 数据的读取规范，在 JavaScript 中使用 [] 的形式来读取 JSON 属性。

经过讨论和投票，更改为：建议属性访问时，尽量使用 . 。在解释部分说明对于非camel的key，允许使用 []。

部分接受。



### if...else... 和 try...catch 的换行风格，建议 else 和 catch 与上一个块的花括号结束同一行。

else 和 catch 与上一个块的花括号结束位于同一行，是符合规范的。但是，把 else 新起一行，在代码阅读上层次结构更清晰。所以更建议使用这种写法。



### JS 中对于 HTML 代码的拼接，在经过 Formatter 后，可能丢失 HTML 意义上的缩进层级，怎么办？

如果是自己写的代码，还是建议自己保证代码的可阅读性，不要使用 Formatter，写的时候就写好。如果是遗留代码，可以经过 Formatter 处理后，选择性的对 HTML 拼接的代码进行整理。

如果是复杂的字符串拼接场景，建议使用模板引擎。



### 变量必须即用即声明的例子不太恰当。

该条描述的是“就近声明原则”，至于对于循环场景，i和item之类常用变量，就近是必须在循环体内，还是放在紧贴循环体外的上部，这个可以自由决定。

但是，建议还是放在for内。假设你一个function中有多个for，可能会有多个var i在for里。看起来不合理，但是你要删除的时候，你不需要考虑删除第一个时，把第二个补上var，每一个都能独立删掉。



### 建议强制统一 Line Ending 为 LF。

根据讨论和投票，认为工程师在写代码的时候，很少会关注这点，不应该在 styleguide 里对此做出规定。

建议产品线通过版本控制系统、editorconfig等工具，进行统一。



### 最好能产出一个该规范的.csslint

在正式发布后，会最终梳理，提供推荐的csslint配置。但是，csslint并没有办法涵盖大多数规范的内容。我们会在完整的调研和梳理后，考虑是否需要开发一个我们自己的CSS Linter。



### 用空格做缩进，敲一下的工作变成了敲四下，始终觉得不是一件很好的事情。 建议提供一下各个editor的tab转换成四空格的办法。

懂得配置自己喜好的编辑器，在输入tab时自动替换成4 spaces，应该是基本素养。下面是意见提出者和委员会提供的一些方法：

- SublimeText： "translate_tabs_to_spaces": true, "tab_size":4
- Vim： set ts=4  set expandtab
- Vim对现有文件进行转换： :%retab!
- 通过editorconfig对不同编辑器进行风格统一化： editorconfig.org



### 求工具插件

在规范正式发布后，我们会逐渐推出相关的工具。预计会先发布一些Linter，然后是Formatter。



### CSS 声明块中的单行和多行书写，采用不同的方式。

在 styleguide 已经规定了，书写属性必须另起一行。

不接受。


### 尽量不用 id selector 进行样式定义。

产品线可以根据自己的需求场景，更灵活的进行设计。所以在 styleguide 里不对此做出约束。产品线如果觉得有必要，可以在此之上，进一步细化约定。

不接受。


### 对于无需自闭合的标签，不允许自闭合是出于什么考虑呢？ 按照 XHTML 的规范，应该是所有标签至少有一个自闭合或者闭合。

我们的 DOCTYPE 是 HTML5 的，在写 HTML 的时候应该是更像 HTML 而不是 XML。HTML5 中允许闭合，建议不闭合，不过为了避免在项目中出现两种风格混合，强制规定了不允许自闭合。

不接受。


### 模板代码应以保证 HTML 单个标签语法的正确性为基本原则，可能导致空值属性，建议去掉这条。

该条主要考虑点为，保持 HTML 的正确性有助于开发时的语法高亮，以及一些校验或二次处理工具能正常工作。该条为建议，如果没有相关要求，可以破例。

不接受。


### function 必须有一个空格，自动化格式工具，如 SublimeText 的 JS Formatter 会格式化成：function()。

if等关键字后都需要有空格，function没有特殊的必要性，保持统一更好。

而且，经过验证，JSBeautifier的jslint_happy配置为true后不会自动去除这个空格。

不接受。


### 运算符处换行时，运算符建议位于行尾。

换行后，运算符位于新行行首，不需要让视线左右移动就能看到运算符两边的操作类型，更便于阅读。位于行尾的话，每行长度不一样，阅读代码的时候就会有很多的视线移动。

不接受。


### switch 下的 case 和 default 建议不必增加一个缩进层级。

- 增加一个缩进，代码更清晰。
- 在写代码的时候，回车时大多数编辑器通常会自动添加一个缩进。
- 现在主流的显示宽度，没必要省一个缩进层级。

不接受。



### 在对象创建时，属性中的 : 之后必须有空格，: 之前不允许有空格。但是三元运算符中 : 前后都要有空格，这点不一致。

Object Initer中的 : 不属于运算符，这点不冲突。

不接受。


### 在对象创建时，key-value 的形式如果在 : 前有空格补齐的话可以更好的观察，建议不要规定死 : 前不允许有空格。

经过讨论和投票，我们认为，阅读这种代码时通常我们都是去找key的，很少场景会去直接找value。因为key是对齐的，所以在可读性上面的区别不会特别大。但冒号对齐的维护成本就高多了，尤其是对于没有装相关插件的人来说。

不接受。



### 4 空格缩进对于 HTML、JS、CSS(LESS、SaSS) 这样的需要多层级缩进、代码行相对较长的语言来说并不合适，会带来屏幕可视空间的极大浪费；建议采用 2 空格缩进

- 4 空格缩进在视觉上更容易分辨代码的层次结构。
- Baidu 绝大多数代码都是 4 空格作为缩进的。

不接受。


### 我们是否缺少了文件命名的规范？请考虑将文件的命名规范加入标准中。

很多框架本身会限制目录结构与文件命名，在 styleguide 里对此做出规定并不合适。这属于项目开发规范的范畴，还是应该由产品线根据情况，单独约定。

不接受。



### 二元运算符两侧必须有一个空格这一条能否放宽些，对于 “b + c*d - e” 这类有着清晰的运算先后顺序或者逻辑的，二元运算符两侧去掉空格更可读。

通常情况下，variable name不会只是一个字母，如果两个长度不一并且不太短的 variable 放一起，中间再来个 operator，就更没法辨识了，看起来会像是一个 variable。

如果想要更清晰，建议通过 () 包起来，先进的 Compressor 会优化掉。

不接受。


### id 命名以 j- 开头，这样别人一看就知道你这个 id 是要在 JS 中用到的。

- 建议不要使用匈牙利命名法。
- 是否作为 JS hook 是行为管理的设计问题，和 id 命名无关。

不接受。


### 目前项目中用到 JQuery 很多，查找元素的情况更是普遍，建议变量命名方式以 $ 开头，这样别人一看就知道你用的是 JQuery 查找的元素。

建议不要使用匈牙利命名法。

不接受。









